(function(e){function t(t){for(var a,r,c=t[0],s=t[1],u=t[2],d=0,l=[];d<c.length;d++)r=c[d],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&l.push(o[r][0]),o[r]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);f&&f(t);while(l.length)l.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,r=1;r<n.length;r++){var c=n[r];0!==o[c]&&(a=!1)}a&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},r={app:0},o={app:0},i=[];function c(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-1843b41e":"5ff36621","chunk-29d4b6dc":"7ba5b967","chunk-62a0748d":"51ab7d57","chunk-7cde390e":"c87218c3","chunk-f1dda49a":"1eeb596b"}[e]+".js"}function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={"chunk-1843b41e":1,"chunk-29d4b6dc":1,"chunk-62a0748d":1,"chunk-7cde390e":1,"chunk-f1dda49a":1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise((function(t,n){for(var a="css/"+({}[e]||e)+"."+{"chunk-1843b41e":"6ae83b5a","chunk-29d4b6dc":"7308b85d","chunk-62a0748d":"d51a6d49","chunk-7cde390e":"fb1b756b","chunk-f1dda49a":"84fbac2c"}[e]+".css",o=s.p+a,i=document.getElementsByTagName("link"),c=0;c<i.length;c++){var u=i[c],d=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(d===a||d===o))return t()}var l=document.getElementsByTagName("style");for(c=0;c<l.length;c++){u=l[c],d=u.getAttribute("data-href");if(d===a||d===o)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var a=t&&t.target&&t.target.src||o,i=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=a,delete r[e],f.parentNode.removeChild(f),n(i)},f.href=o;var p=document.getElementsByTagName("head")[0];p.appendChild(f)})).then((function(){r[e]=0})));var a=o[e];if(0!==a)if(a)t.push(a[2]);else{var i=new Promise((function(t,n){a=o[e]=[t,n]}));t.push(a[2]=i);var u,d=document.createElement("script");d.charset="utf-8",d.timeout=120,s.nc&&d.setAttribute("nonce",s.nc),d.src=c(e);var l=new Error;u=function(t){d.onerror=d.onload=null,clearTimeout(f);var n=o[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+a+": "+r+")",l.name="ChunkLoadError",l.type=a,l.request=r,n[1](l)}o[e]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:d})}),12e4);d.onerror=d.onload=u,document.head.appendChild(d)}return Promise.all(t)},s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],d=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var f=d;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"0c68":function(e,t,n){"use strict";n("38f3")},"38f3":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[e.logginState?n("Topbar"):e._e(),n("router-view",{staticClass:"d-flex flex-column",attrs:{id:"content-wrapper"}})],1)},o=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",{staticClass:"navbar navbar-expand navbar-dark topbar mb-4 fixed-top shadow",attrs:{id:"topbar"}},[a("router-link",{staticClass:"sidebar-brand d-flex align-items-center justify-content-center",attrs:{to:"/"}},[a("img",{staticClass:"sidebar-logo",attrs:{src:n("a642"),alt:"Logo Bookflix"}})]),a("form",{staticClass:"d-none d-sm-inline-block form-inline mr-auto ml-auto my-2 my-md-0 mw-100 navbar-search"},[a("div",{staticClass:"input-group"},[a("input",{staticClass:"form-control bg-dark border-0",attrs:{type:"text",placeholder:"Search for book, magazine...","aria-label":"Search","aria-describedby":"basic-addon2"},on:{input:function(t){e.searchText=t.target.value}}}),a("div",{staticClass:"input-group-append"},[a("router-link",{staticClass:"btn btn-dark",attrs:{to:"/search/"+e.searchText,type:"button",tag:"button"}},[a("em",{staticClass:"fa fa-search fa-sm"})])],1)])]),e._m(0)],1)},c=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",{staticClass:"navbar-nav ml-auto"},[a("li",{staticClass:"nav-item dropdown no-arrow d-sm-none show"},[a("a",{staticClass:"nav-link dropdown",attrs:{href:"#",id:"searchDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"}},[a("em",{staticClass:"fa fa-search fa-fw"})]),a("div",{staticClass:"dropdown-menu dropdown-menu-right p-3 shadow",attrs:{"aria-labelledby":"searchDropdown"}},[a("form",{staticClass:"form-inline mr-auto w-100 navbar-search"},[a("div",{staticClass:"input-group"},[a("input",{staticClass:"form-control bg-dark border-0",attrs:{type:"text",placeholder:"Search for book, magazine ...","aria-label":"Search","aria-describedby":"basic-addon2"}}),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-dark",attrs:{type:"button"}},[a("em",{staticClass:"fa fa-search fa-sm"})])])])])])]),a("li",{staticClass:"nav-item dropdown no-arrow"},[a("a",{staticClass:"nav-link dropdown-toggle",attrs:{href:"#",id:"userDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[a("img",{staticClass:"img-profile rounded-circle",attrs:{src:n("9d41"),alt:"Foto do UsuÃ¡rio"}})]),a("div",{staticClass:"dropdown-menu dropdown-menu-right shadow animated--grow-in",attrs:{"aria-labelledby":"userDropdown"}},[a("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[a("em",{staticClass:"fa fa-user fa-sm fa-fw mr-2 text-gray-400"}),e._v(" Profile ")]),a("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[a("em",{staticClass:"fa fa-cogs fa-sm fa-fw mr-2 text-gray-400"}),e._v(" Settings ")]),a("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[a("em",{staticClass:"fa fa-list fa-sm fa-fw mr-2 text-gray-400"}),e._v(" Activity Log ")]),a("div",{staticClass:"dropdown-divider"}),a("a",{staticClass:"dropdown-item",attrs:{href:"#","data-toggle":"modal","data-target":"#logoutModal"}},[a("em",{staticClass:"fa fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"}),e._v(" Logout ")])])])])}],s={name:"Topbar",data:function(){return{searchText:""}}},u=s,d=(n("0c68"),n("2877")),l=Object(d["a"])(u,i,c,!1,null,null,null),f=l.exports,p={name:"App",components:{Topbar:f},computed:{logginState:function(){return this.$store.state.logginState}}},m=p,g=(n("034f"),Object(d["a"])(m,r,o,!1,null,null,null)),b=g.exports,h=(n("d3b7"),n("8c4f")),v=(n("4de4"),n("7db0"),n("4160"),n("c975"),n("d81d"),n("159b"),n("2909")),w=(n("96cf"),n("1da1")),k=n("2f62"),y=n("bc3a"),C=n.n(y),x="http://api.bookflix.laurentino.me",S="".concat(x),R=C.a.create({baseURL:S,headers:{}}),T="/book",B={getAll:function(){return R.get("".concat(T))},getById:function(e){return R.get("".concat(T,"/").concat(e))},add:function(e){return R.post("".concat(T),e)},update:function(e,t){return R.put("".concat(T,"/").concat(t),e)},delete:function(e){return R.delete("".concat(T,"/").concat(e))}};n("99af"),n("ac1f"),n("5319");function O(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.accessToken?{Authorization:"Bearer "+e.accessToken}:{}}var _="/book/{bookid}/review",j={getById:function(e,t){return console.log(t),R.get("".concat(_.replace("{bookid}",e),"/").concat(t))},getAllByBookId:function(e){return R.get("".concat(_.replace("{bookid}",e)))},add:function(e,t){return R.post("".concat(_.replace("{bookid}",t)),e,{headers:O()})},update:function(e,t){return R.put("".concat(_,"/").concat(t),e)},delete:function(e,t){return R.delete("".concat(_.replace("{bookid}",e),"/").concat(t))}},A={books:B,review:j},E={get:function(e){return A[e]}},I=E.get("books"),P=E.get("review");a["a"].use(k["a"]);var L=new k["a"].Store({state:{genres:[],reviews:[],bookToReview:{},starToReview:{},logginState:!1},actions:{getBooks:function(e){return Object(w["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.t0=n,t.next=4,I.getAll();case 4:t.t1=t.sent,(0,t.t0)("loadBooks",t.t1);case 6:case"end":return t.stop()}}),t)})))()},getReviewsByBookId:function(e,t){return Object(w["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.commit,n.t0=a,n.next=4,P.getAllByBookId(t.bookId);case 4:n.t1=n.sent,(0,n.t0)("loadReviews",n.t1);case 6:case"end":return n.stop()}}),n)})))()},getBookById:function(e,t){return Object(w["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.commit,n.t0=a,n.next=4,I.getById(t.id);case 4:n.t1=n.sent,(0,n.t0)("loadBookToReview",n.t1);case 6:case"end":return n.stop()}}),n)})))()},updateRating:function(e,t){return Object(w["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:a=e.commit,a("updateStarToReview",t.rating);case 2:case"end":return n.stop()}}),n)})))()},addReview:function(e,t){return Object(w["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:a=e.commit,a("addReviewToBook",t);case 2:case"end":return n.stop()}}),n)})))()}},mutations:{loadBooks:function(e,t){var n=t.data;n.body.forEach((function(t){var n;(n=e.genres).push.apply(n,Object(v["a"])(t.categories)),e.genres=e.genres.filter((function(e,t,n){return n.indexOf(n.find((function(t){return t.id==e.id})))===t}))})),e.genres.map((function(e){return e.books=n.body.filter((function(t){return null!=t.categories.find((function(t){return t.id==e.id}))})),e}))},loadReviews:function(e,t){var n=t.data;e.reviews=n.body},loadBookToReview:function(e,t){var n=t.data;e.bookToReview=n.body},updateStarToReview:function(e,t){e.starToReview=t},addReviewToBook:function(e,t){e.reviews.push(t.review),P.add(t.review,t.review.book_id)}}});a["a"].use(h["a"]);var D=[{path:"/",name:"Home",component:function(){return L.state.logginState=!0,n.e("chunk-62a0748d").then(n.bind(null,"bb51"))}},{path:"/login",name:"Login",component:function(){return L.state.logginState=!1,n.e("chunk-29d4b6dc").then(n.bind(null,"a55b"))}},{path:"/search/:searchText",name:"BooksGenre",component:function(){return L.state.logginState=!0,n.e("chunk-1843b41e").then(n.bind(null,"2d3b"))},props:!0},{path:"/booksgenre/:genreId",name:"BooksGenre",component:function(){return L.state.logginState=!0,n.e("chunk-f1dda49a").then(n.bind(null,"875c"))},props:!0},{path:"/review/:id",name:"Review",component:function(){return L.state.logginState=!0,n.e("chunk-7cde390e").then(n.bind(null,"bb44"))},props:!0}],N=new h["a"]({mode:"history",base:"/",routes:D}),M=N;a["a"].config.productionTip=!1,new a["a"]({router:M,store:L,render:function(e){return e(b)}}).$mount("#app")},"85ec":function(e,t,n){},"9d41":function(e,t,n){e.exports=n.p+"img/userImage.944911ce.jpg"},a642:function(e,t,n){e.exports=n.p+"img/bookflix.613a588f.png"}});
//# sourceMappingURL=app.8037c012.js.map